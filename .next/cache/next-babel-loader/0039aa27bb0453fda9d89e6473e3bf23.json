{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\interview\\\\interview-fullstack-master\\\\components\\\\MatrixTable\\\\context.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createContext, useReducer, useState } from 'react';\nimport { useEffect } from 'react';\n/**\n * This is the \n */\n\nvar emptyMatrix = {\n  \"36months\": {\n    \"lite\": 0,\n    \"standard\": 0,\n    \"unlimited\": 0\n  },\n  \"24months\": {\n    \"lite\": 0,\n    \"standard\": 0,\n    \"unlimited\": 0\n  },\n  \"12months\": {\n    \"lite\": 0,\n    \"standard\": 0,\n    \"unlimited\": 0\n  },\n  \"mtm\": {\n    \"lite\": 0,\n    \"standard\": 0,\n    \"unlimited\": 0\n  }\n};\nvar defaultState = {\n  matrix: emptyMatrix,\n  originalMatrix: emptyMatrix\n};\n\nvar reducer = function reducer(state, action) {\n  console.log('---action: ', action);\n\n  switch (action.type) {\n    case 'GET_ALL_DATA':\n      var matrixData;\n      setTimeout(function () {\n        fetch('http://localhost:3000/api/pricing', {\n          method: 'Get',\n          headers: {\n            accept: 'application/json',\n            'content-type': 'application/json'\n          } // body: JSON.stringify(\"dfdfd\")\n\n        }).then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          console.log('-----data: ', data); // setMatrixData(data)\n        })[\"catch\"](function (err) {\n          return console.log('---error', err);\n        });\n      }, 1000); // console.log('---hree', matrixData)\n\n      return _objectSpread({\n        count: 5\n      }, state);\n\n    case 'SET_MATRIX':\n      console.log('---action: ', action);\n      return _objectSpread({}, state);\n\n    case 'SET_ORIGINAL_MATRIX':\n      return _objectSpread({}, state);\n\n    default:\n      return state;\n  }\n};\n\nexport var MatrixTableContext = createContext([defaultState, function () {}]);\n/**\n * This is the provider that hosts the state\n * @param param0 \n */\n\nexport var MatrixTableContextProvider = function MatrixTableContextProvider(_ref) {\n  _s();\n\n  var initialMatrix = _ref.initialMatrix,\n      children = _ref.children;\n\n  var _useState = useState(),\n      defaultMatrix = _useState[0],\n      setDefaultMatrix = _useState[1];\n\n  useEffect(function () {\n    fetch('http://localhost:3000/api/pricing', {\n      method: 'Get',\n      headers: {\n        accept: 'application/json',\n        'content-type': 'application/json'\n      } // body: JSON.stringify(\"dfdfd\")\n\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      console.log('-----data: ', data);\n      setDefaultMatrix(data);\n    })[\"catch\"](function (err) {\n      return console.log('---error', err);\n    });\n  }, []);\n  console.log('---init: ', defaultMatrix);\n  var state = useReducer(reducer, {\n    matrix: defaultMatrix,\n    originalMatrix: defaultMatrix || emptyMatrix\n  });\n  console.log('---state: ', state);\n  return __jsx(MatrixTableContext.Provider, {\n    value: state,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }\n  }, children);\n};\n\n_s(MatrixTableContextProvider, \"HoYdeAKrzo/y+cffM+FvCU1G5AM=\");\n\n_c = MatrixTableContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"MatrixTableContextProvider\");","map":{"version":3,"sources":["D:/interview/interview-fullstack-master/components/MatrixTable/context.tsx"],"names":["createContext","useReducer","useState","useEffect","emptyMatrix","defaultState","matrix","originalMatrix","reducer","state","action","console","log","type","matrixData","setTimeout","fetch","method","headers","accept","then","res","json","data","err","count","MatrixTableContext","MatrixTableContextProvider","initialMatrix","children","defaultMatrix","setDefaultMatrix"],"mappings":"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","sourcesContent":["import { createContext, useReducer, useState } from 'react'\nimport { useEffect } from 'react'\n\n/**\n * This is the \n */\ninterface MatrixTableState {\n  /**\n   * This is the price matrix that contains the latest value\n   */\n  matrix: import('../../types').Matrix\n  /**\n   * We will use original matrix to help us \"reset\" the table when we want to cancel editing it.\n   * Remember that **whenever** you get the matrix from the server, you must set originalMatrix\n   * to that value; originalMatrix should try to mirror the matrix in our database.\n   */\n  originalMatrix: import('../../types').Matrix\n}\n\n/**\n * These are the actions you can dispatch. Add actions you want to help you\n * type the dispatch function\n */\ntype MatrixAction = {\n  type: 'SET_MATRIX',\n  /**\n   * When payload is empty, we will need to set the values from originalMatrix\n   */ \n  payload?: import('../../types').Matrix\n  metadata?: {\n    /**\n     * If this is set to true, then instead of resetting to the originalMatrix,\n     * we reset to the emptyMatrix\n     */\n    resetToEmpty?: boolean\n  }\n} | {\n  type: 'SET_ORIGINAL_MATRIX',\n  /**\n   * When empty, set the value from emptyMatrix\n   */\n  payload?: import('../../types').Matrix\n} | {\n  type: 'SOME_ACTION',\n  payload: any\n} | {\n  type: 'GET_ALL_DATA',\n  payload: any\n}// Here you will need to add your other action(s) in order to edit the pricing (remove SOME_ACTION)\n\n/**\n * This is for the Provider component\n */\ntype ProviderProps = {\n  initialMatrix?: import('../../types').Matrix\n}\n\nconst emptyMatrix = {\n  \"36months\": {\n      \"lite\": 0,\n      \"standard\": 0,\n      \"unlimited\": 0,\n  },\n  \"24months\": {\n      \"lite\": 0,\n      \"standard\": 0,\n      \"unlimited\": 0\n  },\n  \"12months\": {\n      \"lite\": 0,\n      \"standard\": 0,\n      \"unlimited\": 0\n  },\n  \"mtm\": {\n      \"lite\": 0,\n      \"standard\": 0,\n      \"unlimited\": 0\n  }\n}\n\nconst defaultState: MatrixTableState = {\n  matrix: emptyMatrix,\n  originalMatrix: emptyMatrix,\n}\n\nconst reducer = (state: MatrixTableState, action: MatrixAction): MatrixTableState => {\n  console.log('---action: ', action)\n  switch(action.type) {\n    case 'GET_ALL_DATA':\n      let matrixData;\n      setTimeout(() => {\n        fetch('http://localhost:3000/api/pricing', {\n        method: 'Get',\n        headers: {\n            accept: 'application/json',\n            'content-type': 'application/json'\n        },\n          // body: JSON.stringify(\"dfdfd\")\n        })\n        .then(res => \n          res.json()\n        )\n        .then(data=> {\n          console.log('-----data: ', data)\n          // setMatrixData(data)\n        })\n        .catch(err => console.log('---error', err))\n      }, 1000);\n      \n      // console.log('---hree', matrixData)\n      return {count: 5, ...state}\n    case 'SET_MATRIX':\n      console.log('---action: ', action);\n      return {\n        ...state,\n      }\n    case 'SET_ORIGINAL_MATRIX':\n      return {\n        ...state\n      }\n    default:\n      return state\n  }\n}\n\nexport const MatrixTableContext = createContext<[MatrixTableState, import('react').Dispatch<MatrixAction>]>([defaultState, () => {}])\n\n/**\n * This is the provider that hosts the state\n * @param param0 \n */\nexport const MatrixTableContextProvider: import('react').FC<ProviderProps> = ({ initialMatrix, children }) => {\n  const [defaultMatrix, setDefaultMatrix] = useState();\n\n  useEffect(() => {\n    fetch('http://localhost:3000/api/pricing', {\n      method: 'Get',\n      headers: {\n          accept: 'application/json',\n          'content-type': 'application/json'\n      },\n        // body: JSON.stringify(\"dfdfd\")\n      })\n      .then(res => \n        res.json()\n      )\n      .then(data=> {\n        console.log('-----data: ', data)\n        setDefaultMatrix(data);\n      })\n      .catch(err => console.log('---error', err))\n  }, []);\n\n  console.log('---init: ', defaultMatrix)\n  const state = useReducer(reducer, { matrix: defaultMatrix , originalMatrix: defaultMatrix || emptyMatrix })\nconsole.log('---state: ', state)\n  return (\n    <MatrixTableContext.Provider value={state}>\n      {children}\n    </MatrixTableContext.Provider>\n  )\n}"]},"metadata":{},"sourceType":"module"}